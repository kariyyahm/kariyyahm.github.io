---
title: 1月开发记录
date: 2021-01-20 22:08:42
tags: 开发
---

1. JSON.parse需要做非空判断；
   
2. 使用LargeList的页面其他块级元素最好加上height 不然会导致6sp、7sp列表下拉滚动到底部出现抖动情况；
   
3. taro自带输入框ios英文九宫格输入会键盘错乱；

4. 开发h5的时候，输入框调起app的键盘，想要在换行或者确定键之后触发函数，可在input外部包括form使用onSubmit实现；但是需要阻止下form提交动作
    ```
   onSubmit={event => {
        // 阻止form表单提交动作 === event.preventDefault() || (event.returnValue = false)
        event.preventDefault()
        onConfirm && onConfirm()
   }}
   ```

5. mobx 升级的时候
   ```
   [mobx] There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`
   ```
   检查本项目里面依赖库 mobx 版本是否和主项目 mobx 版本一致，
   mobx 7x 使用 class 写 store 的时候需要注意加上 makeAutoObservable
   ```
   class Timer {
        secondsPassed = 0
        constructor() {
            makeAutoObservable(this)
           }
        increaseTimer() {
        this.secondsPassed += 1
        }
   }
```

6. package.json 可以使用 resolutions 来合并多个版本
```   
"resolutions": {
   "mobx": "6.0.5",
   "mobx-react": "7.0.6"
   },
```
