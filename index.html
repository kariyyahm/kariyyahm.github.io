<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Kari WanG"><meta name="copyright" content="Kari WanG"><title>æ„¿ç§°ä¹‹ä¸ºç»æ´»</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Kari WanG</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">6</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">3</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">æ„¿ç§°ä¹‹ä¸ºç»æ´»</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">æ„¿ç§°ä¹‹ä¸ºç»æ´»</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/13/%E5%B1%B1%E8%84%89%E6%95%B0%E7%BB%84%E7%9A%84%E5%B3%B0%E9%A1%B6%E7%B4%A2%E5%BC%95/">852.å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-13</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></span><div class="content"><h3 id="é¢˜å¹²åœ¨æ­¤"><a href="#é¢˜å¹²åœ¨æ­¤" class="headerlink" title="é¢˜å¹²åœ¨æ­¤"></a>é¢˜å¹²åœ¨æ­¤</h3><p><img src="https://i.loli.net/2020/06/13/K3wa16oQOhuXeyT.png" alt=""></p>
<h3 id="æˆ‘çš„è§£é¢˜"><a href="#æˆ‘çš„è§£é¢˜" class="headerlink" title="æˆ‘çš„è§£é¢˜"></a>æˆ‘çš„è§£é¢˜</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> peakIndexInMountainArray = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = A.filter(<span class="function"><span class="params">v</span> =&gt;</span> v&gt;<span class="number">-1</span>)</span><br><span class="line">    arr.sort(<span class="function">(<span class="params">a,b</span>) =&gt;</span> &#123;<span class="keyword">return</span> a-b&#125;)</span><br><span class="line">    <span class="keyword">return</span> A.findIndex(<span class="function">(<span class="params">v</span>) =&gt;</span> &#123;<span class="keyword">return</span> v === arr[arr.length<span class="number">-1</span>]&#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>çœ‹äº†ä¸€ä¸‹è¯„è®ºï¼Œå¤§å®¶å¯¹è¿™é“é¢˜å¥½åƒéƒ½æœ‰äº›æ‘¸ä¸ç€å¤´è„‘ï¼Œè«åå…¶å¦™åœ°å˜æˆäº†å¯»æ‰¾æœ€å¤§å€¼ç´¢å¼•äº†ã€‚ä¸è¿‡æˆ‘æ‰¾åˆ°äº†æœ€æ·±å¾—æˆ‘å¿ƒçš„ä»£ç ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> peakIndexInMountainArray = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> A.indexOf(<span class="built_in">Math</span>.max(...A))</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>emmmï¼Œè¿™æ˜¯æœ€ç¬¦åˆæˆ‘å®¡ç¾çš„ä»£ç äº†ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å‰æ®µå˜›ï¼Œæœ‰çš„æ˜¯å†…å­˜ã€‚ä¸ºå¾—æ˜¯ä»£ç ç®€æ´ç‚¹å˜›ï¼Œä¸å¯’é¢¤ã€‚ğŸ™ƒ</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/04/572-%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%A0%91%E7%9A%84%E5%AD%90%E6%A0%91/">572.å¦ä¸€ä¸ªæ ‘çš„å­æ ‘</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-04</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></span><div class="content"><h3 id="é¢˜å¹²åœ¨æ­¤"><a href="#é¢˜å¹²åœ¨æ­¤" class="headerlink" title="é¢˜å¹²åœ¨æ­¤"></a>é¢˜å¹²åœ¨æ­¤</h3><p><img src="https://i.loli.net/2020/06/01/PX5UKbNvhOkoYQm.png" alt=""></p>
<h3 id="æˆ‘çš„è§£é¢˜"><a href="#æˆ‘çš„è§£é¢˜" class="headerlink" title="æˆ‘çš„è§£é¢˜"></a>æˆ‘çš„è§£é¢˜</h3><p>ç¬¬ä¸€æ¬¡æ¥è§¦äºŒå‰æ ‘ï¼Œæ²¡å¤ªç†è§£ç”¨ä¾‹çš„ç»“æ„ã€‚è¿˜æ˜¯logå‡ºæ¥åæ‰æ˜ç™½ç»“æ„æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œæ€»ä¹‹å¾ˆå®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isSubtree = <span class="function"><span class="keyword">function</span>(<span class="params">s, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">if</span>(s === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">return</span> isSame(s,t) || isSubtree(s.left,t) || isSubtree(s.right,t)</span><br><span class="line">  </span><br><span class="line">  	<span class="keyword">var</span> isSame = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(b === <span class="literal">null</span> &amp;&amp; a === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    	<span class="keyword">if</span>(a === <span class="literal">null</span> || b === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    	<span class="keyword">if</span>(a.val === b.val)&#123;</span><br><span class="line">    	    <span class="keyword">return</span> same(a.left,b.left) &amp;&amp; same(a.right,b.right)</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™é¢˜æ„Ÿå—å°±æ˜¯äºŒå‰æ ‘éƒ½æ˜¯å…³äºé€’å½’çš„ï¼Ÿï¼Ÿï¼Ÿ</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/02/Map/">Map</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-02</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/js/">js</a></span><div class="content"><h3 id="å«ä¹‰åŠåŸºæœ¬ç”¨æ³•"><a href="#å«ä¹‰åŠåŸºæœ¬ç”¨æ³•" class="headerlink" title="å«ä¹‰åŠåŸºæœ¬ç”¨æ³•"></a>å«ä¹‰åŠåŸºæœ¬ç”¨æ³•</h3><p>JavaScript çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æ„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">const</span> o = &#123;<span class="attr">p</span>: <span class="string">'Hello World'</span>&#125;;</span><br><span class="line"></span><br><span class="line">m.set(o, <span class="string">'content'</span>)</span><br><span class="line">m.get(o) <span class="comment">// "content"</span></span><br><span class="line"></span><br><span class="line">m.has(o) <span class="comment">// true</span></span><br><span class="line">m.delete(o) <span class="comment">// true</span></span><br><span class="line">m.has(o) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å‘ Map æ·»åŠ æˆå‘˜ã€‚ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'name'</span>, <span class="string">'å¼ ä¸‰'</span>],</span><br><span class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">map.size <span class="comment">// 2</span></span><br><span class="line">map.has(<span class="string">'name'</span>) <span class="comment">// true</span></span><br><span class="line">map.get(<span class="string">'name'</span>) <span class="comment">// "å¼ ä¸‰"</span></span><br><span class="line">map.has(<span class="string">'title'</span>) <span class="comment">// true</span></span><br><span class="line">map.get(<span class="string">'title'</span>) <span class="comment">// "Author"</span></span><br></pre></td></tr></table></figure>

<p><code>Map</code>æ„é€ å‡½æ•°æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯ä¸‹é¢çš„ç®—æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> items = [</span><br><span class="line">  [<span class="string">'name'</span>, <span class="string">'å¼ ä¸‰'</span>],</span><br><span class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line">items.forEach(</span><br><span class="line">  ([key, value]) =&gt; map.set(key, value)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="å®ä¾‹çš„å±æ€§å’Œæ“ä½œæ–¹æ³•"><a href="#å®ä¾‹çš„å±æ€§å’Œæ“ä½œæ–¹æ³•" class="headerlink" title="å®ä¾‹çš„å±æ€§å’Œæ“ä½œæ–¹æ³•"></a>å®ä¾‹çš„å±æ€§å’Œæ“ä½œæ–¹æ³•</h3><p><strong>ï¼ˆ1ï¼‰size å±æ€§</strong></p>
<p><code>size</code>å±æ€§è¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰Map.prototype.set(key, value)</strong></p>
<p><code>set</code>æ–¹æ³•è®¾ç½®é”®å<code>key</code>å¯¹åº”çš„é”®å€¼ä¸º<code>value</code>ï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœ<code>key</code>å·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line">m.set(<span class="string">'edition'</span>, <span class="number">6</span>)        <span class="comment">// é”®æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">m.set(<span class="number">262</span>, <span class="string">'standard'</span>)     <span class="comment">// é”®æ˜¯æ•°å€¼</span></span><br><span class="line">m.set(<span class="literal">undefined</span>, <span class="string">'nah'</span>)    <span class="comment">// é”®æ˜¯ undefined</span></span><br></pre></td></tr></table></figure>

<p><code>set</code>æ–¹æ³•è¿”å›çš„æ˜¯å½“å‰çš„<code>Map</code>å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="number">1</span>, <span class="string">'a'</span>)</span><br><span class="line">  .set(<span class="number">2</span>, <span class="string">'b'</span>)</span><br><span class="line">  .set(<span class="number">3</span>, <span class="string">'c'</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ3ï¼‰Map.prototype.get(key)</strong></p>
<p><code>get</code>æ–¹æ³•è¯»å–<code>key</code>å¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°<code>key</code>ï¼Œè¿”å›<code>undefined</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="built_in">console</span>.log(<span class="string">'hello'</span>);&#125;;</span><br><span class="line">m.set(hello, <span class="string">'Hello ES6!'</span>) <span class="comment">// é”®æ˜¯å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">m.get(hello)  <span class="comment">// Hello ES6!</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ4ï¼‰Map.prototype.has(key)</strong></p>
<p><code>has</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line">m.set(<span class="string">'edition'</span>, <span class="number">6</span>);</span><br><span class="line">m.set(<span class="number">262</span>, <span class="string">'standard'</span>);</span><br><span class="line">m.set(<span class="literal">undefined</span>, <span class="string">'nah'</span>);</span><br><span class="line"></span><br><span class="line">m.has(<span class="string">'edition'</span>)     <span class="comment">// true</span></span><br><span class="line">m.has(<span class="string">'years'</span>)       <span class="comment">// false</span></span><br><span class="line">m.has(<span class="number">262</span>)           <span class="comment">// true</span></span><br><span class="line">m.has(<span class="literal">undefined</span>)     <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ5ï¼‰Map.prototype.delete(key)</strong></p>
<p><code>delete</code>æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›<code>true</code>ã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›<code>false</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">m.set(<span class="literal">undefined</span>, <span class="string">'nah'</span>);</span><br><span class="line">m.has(<span class="literal">undefined</span>)     <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">m.delete(<span class="literal">undefined</span>)</span><br><span class="line">m.has(<span class="literal">undefined</span>)       <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ6ï¼‰Map.prototype.clear()</strong></p>
<p><code>clear</code>æ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">'foo'</span>, <span class="literal">true</span>);</span><br><span class="line">map.set(<span class="string">'bar'</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">map.size <span class="comment">// 2</span></span><br><span class="line">map.clear()</span><br><span class="line">map.size <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h3 id="éå†æ–¹æ³•"><a href="#éå†æ–¹æ³•" class="headerlink" title="éå†æ–¹æ³•"></a>éå†æ–¹æ³•</h3><p>Map ç»“æ„åŸç”Ÿæä¾›ä¸‰ä¸ªéå†å™¨ç”Ÿæˆå‡½æ•°å’Œä¸€ä¸ªéå†æ–¹æ³•ã€‚</p>
<ul>
<li><code>Map.prototype.keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</li>
<li><code>Map.prototype.values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</li>
<li><code>Map.prototype.entries()</code>ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚</li>
<li><code>Map.prototype.forEach()</code>ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚</li>
</ul>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒMap çš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'F'</span>, <span class="string">'no'</span>],</span><br><span class="line">  [<span class="string">'T'</span>,  <span class="string">'yes'</span>],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> map.keys()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// "F"</span></span><br><span class="line"><span class="comment">// "T"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> map.values()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// "no"</span></span><br><span class="line"><span class="comment">// "yes"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> map.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item[<span class="number">0</span>], item[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// "F" "no"</span></span><br><span class="line"><span class="comment">// "T" "yes"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// "F" "no"</span></span><br><span class="line"><span class="comment">// "T" "yes"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäºä½¿ç”¨map.entries()</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// "F" "no"</span></span><br><span class="line"><span class="comment">// "T" "yes"</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç æœ€åçš„é‚£ä¸ªä¾‹å­ï¼Œè¡¨ç¤º Map ç»“æ„çš„é»˜è®¤éå†å™¨æ¥å£ï¼ˆ<code>Symbol.iterator</code>å±æ€§ï¼‰ï¼Œå°±æ˜¯<code>entries</code>æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map[<span class="built_in">Symbol</span>.iterator] === map.entries</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>Map ç»“æ„è½¬ä¸ºæ•°ç»„ç»“æ„ï¼Œæ¯”è¾ƒå¿«é€Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ<code>...</code>ï¼‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="number">1</span>, <span class="string">'one'</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="string">'two'</span>],</span><br><span class="line">  [<span class="number">3</span>, <span class="string">'three'</span>],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">[...map.keys()]</span><br><span class="line"><span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line">[...map.values()]</span><br><span class="line"><span class="comment">// ['one', 'two', 'three']</span></span><br><span class="line"></span><br><span class="line">[...map.entries()]</span><br><span class="line"><span class="comment">// [[1,'one'], [2, 'two'], [3, 'three']]</span></span><br><span class="line"></span><br><span class="line">[...map]</span><br><span class="line"><span class="comment">// [[1,'one'], [2, 'two'], [3, 'three']]</span></span><br></pre></td></tr></table></figure>

<p>ç»“åˆæ•°ç»„çš„<code>map</code>æ–¹æ³•ã€<code>filter</code>æ–¹æ³•ï¼Œå¯ä»¥å®ç° Map çš„éå†å’Œè¿‡æ»¤ï¼ˆMap æœ¬èº«æ²¡æœ‰<code>map</code>å’Œ<code>filter</code>æ–¹æ³•ï¼‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map0 = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="number">1</span>, <span class="string">'a'</span>)</span><br><span class="line">  .set(<span class="number">2</span>, <span class="string">'b'</span>)</span><br><span class="line">  .set(<span class="number">3</span>, <span class="string">'c'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>(</span><br><span class="line">  [...map0].filter(<span class="function">(<span class="params">[k, v]</span>) =&gt;</span> k &lt; <span class="number">3</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">// äº§ç”Ÿ Map ç»“æ„ &#123;1 =&gt; 'a', 2 =&gt; 'b'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map2 = <span class="keyword">new</span> <span class="built_in">Map</span>(</span><br><span class="line">  [...map0].map(<span class="function">(<span class="params">[k, v]</span>) =&gt;</span> [k * <span class="number">2</span>, <span class="string">'_'</span> + v])</span><br><span class="line">    );</span><br><span class="line"><span class="comment">// äº§ç”Ÿ Map ç»“æ„ &#123;2 =&gt; '_a', 4 =&gt; '_b', 6 =&gt; '_c'&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼ŒMap è¿˜æœ‰ä¸€ä¸ª<code>forEach</code>æ–¹æ³•ï¼Œä¸æ•°ç»„çš„<code>forEach</code>æ–¹æ³•ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å®ç°éå†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, key, map</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Key: %s, Value: %s"</span>, key, value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>forEach</code>æ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®š<code>this</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reporter = &#123;</span><br><span class="line">  report: <span class="function"><span class="keyword">function</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Key: %s, Value: %s"</span>, key, value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">map.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, key, map</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.report(key, value);</span><br><span class="line">&#125;, reporter);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>forEach</code>æ–¹æ³•çš„å›è°ƒå‡½æ•°çš„<code>this</code>ï¼Œå°±æŒ‡å‘<code>reporter</code>ã€‚</p>
<h3 id="ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢"><a href="#ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢" class="headerlink" title="ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢"></a>ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢</h3><p><strong>ï¼ˆ1ï¼‰Map è½¬ä¸ºæ•°ç»„</strong></p>
<p>å‰é¢å·²ç»æè¿‡ï¼ŒMap è½¬ä¸ºæ•°ç»„æœ€æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ<code>...</code>ï¼‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="literal">true</span>, <span class="number">7</span>)</span><br><span class="line">  .set(&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">'abc'</span>]);</span><br><span class="line">[...myMap]</span><br><span class="line"><span class="comment">// [ [ true, 7 ], [ &#123; foo: 3 &#125;, [ 'abc' ] ] ]</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ2ï¼‰æ•°ç»„ è½¬ä¸º Map</strong></p>
<p>å°†æ•°ç»„ä¼ å…¥ Map æ„é€ å‡½æ•°ï¼Œå°±å¯ä»¥è½¬ä¸º Mapã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="literal">true</span>, <span class="number">7</span>],</span><br><span class="line">  [&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">'abc'</span>]]</span><br><span class="line">])</span><br><span class="line"><span class="comment">// Map &#123;</span></span><br><span class="line"><span class="comment">//   true =&gt; 7,</span></span><br><span class="line"><span class="comment">//   Object &#123;foo: 3&#125; =&gt; ['abc']</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ3ï¼‰Map è½¬ä¸ºå¯¹è±¡</strong></p>
<p>å¦‚æœæ‰€æœ‰ Map çš„é”®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥æ— æŸåœ°è½¬ä¸ºå¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMapToObj</span>(<span class="params">strMap</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [k,v] <span class="keyword">of</span> strMap) &#123;</span><br><span class="line">    obj[k] = v;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="string">'yes'</span>, <span class="literal">true</span>)</span><br><span class="line">  .set(<span class="string">'no'</span>, <span class="literal">false</span>);</span><br><span class="line">strMapToObj(myMap)</span><br><span class="line"><span class="comment">// &#123; yes: true, no: false &#125;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæœ‰éå­—ç¬¦ä¸²çš„é”®åï¼Œé‚£ä¹ˆè¿™ä¸ªé”®åä¼šè¢«è½¬æˆå­—ç¬¦ä¸²ï¼Œå†ä½œä¸ºå¯¹è±¡çš„é”®åã€‚</p>
<p><strong>ï¼ˆ4ï¼‰å¯¹è±¡è½¬ä¸º Map</strong></p>
<p>å¯¹è±¡è½¬ä¸º Map å¯ä»¥é€šè¿‡<code>Object.entries()</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="string">"a"</span>:<span class="number">1</span>, <span class="string">"b"</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">Object</span>.entries(obj));</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ªè½¬æ¢å‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objToStrMap</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> strMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">    strMap.set(k, obj[k]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> strMap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">objToStrMap(&#123;<span class="attr">yes</span>: <span class="literal">true</span>, <span class="attr">no</span>: <span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">// Map &#123;"yes" =&gt; true, "no" =&gt; false&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ5ï¼‰Map è½¬ä¸º JSON</strong></p>
<p>Map è½¬ä¸º JSON è¦åŒºåˆ†ä¸¤ç§æƒ…å†µã€‚ä¸€ç§æƒ…å†µæ˜¯ï¼ŒMap çš„é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¯ä»¥é€‰æ‹©è½¬ä¸ºå¯¹è±¡ JSONã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMapToJson</span>(<span class="params">strMap</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(strMapToObj(strMap));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">'yes'</span>, <span class="literal">true</span>).set(<span class="string">'no'</span>, <span class="literal">false</span>);</span><br><span class="line">strMapToJson(myMap)</span><br><span class="line"><span class="comment">// '&#123;"yes":true,"no":false&#125;'</span></span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ç§æƒ…å†µæ˜¯ï¼ŒMap çš„é”®åæœ‰éå­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¯ä»¥é€‰æ‹©è½¬ä¸ºæ•°ç»„ JSONã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapToArrayJson</span>(<span class="params">map</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify([...map]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="literal">true</span>, <span class="number">7</span>).set(&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">'abc'</span>]);</span><br><span class="line">mapToArrayJson(myMap)</span><br><span class="line"><span class="comment">// '[[true,7],[&#123;"foo":3&#125;,["abc"]]]'</span></span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ6ï¼‰JSON è½¬ä¸º Map</strong></p>
<p>JSON è½¬ä¸º Mapï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonToStrMap</span>(<span class="params">jsonStr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> objToStrMap(<span class="built_in">JSON</span>.parse(jsonStr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonToStrMap(<span class="string">'&#123;"yes": true, "no": false&#125;'</span>)</span><br><span class="line"><span class="comment">// Map &#123;'yes' =&gt; true, 'no' =&gt; false&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œæ•´ä¸ª JSON å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¸”æ¯ä¸ªæ•°ç»„æˆå‘˜æœ¬èº«ï¼Œåˆæ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªæˆå‘˜çš„æ•°ç»„ã€‚è¿™æ—¶ï¼Œå®ƒå¯ä»¥ä¸€ä¸€å¯¹åº”åœ°è½¬ä¸º Mapã€‚è¿™å¾€å¾€æ˜¯ Map è½¬ä¸ºæ•°ç»„ JSON çš„é€†æ“ä½œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonToMap</span>(<span class="params">jsonStr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">JSON</span>.parse(jsonStr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonToMap(<span class="string">'[[true,7],[&#123;"foo":3&#125;,["abc"]]]'</span>)</span><br><span class="line"><span class="comment">// Map &#123;true =&gt; 7, Object &#123;foo: 3&#125; =&gt; ['abc']&#125;</span></span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/01/1347-%E5%88%B6%E9%80%A0%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D%E7%9A%84%E6%9C%80%E5%B0%8F%E6%AD%A5%E9%AA%A4%E6%95%B0/">1347.åˆ¶é€ å­—æ¯å¼‚ä½è¯çš„æœ€å°æ­¥éª¤æ•°</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-01</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></span><div class="content"><h3 id="é¢˜å¹²åœ¨æ­¤"><a href="#é¢˜å¹²åœ¨æ­¤" class="headerlink" title="é¢˜å¹²åœ¨æ­¤"></a>é¢˜å¹²åœ¨æ­¤</h3><p><img src="https://i.loli.net/2020/06/01/PX5UKbNvhOkoYQm.png" alt=""></p>
<h3 id="æˆ‘çš„è§£é¢˜"><a href="#æˆ‘çš„è§£é¢˜" class="headerlink" title="æˆ‘çš„è§£é¢˜"></a>æˆ‘çš„è§£é¢˜</h3><p>å…ˆå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°ç»„ï¼Œç„¶åå°†ä¸¤æ•°ç»„ç›¸åŒçš„å…ƒç´ åˆ é™¤ï¼Œå¤„ç†åçš„æ•°ç»„é•¿åº¦ä¾¿ä¸ºæœ€å°æ­¥éª¤æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSteps = <span class="function"><span class="keyword">function</span>(<span class="params">s, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arrT = []</span><br><span class="line">    <span class="keyword">const</span> arrS = []</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i =<span class="number">0</span>; i&lt;t.length; i++) &#123;</span><br><span class="line">        arrT.push(t.slice(i,i+<span class="number">1</span>))</span><br><span class="line">        arrS.push(s.slice(i,i+<span class="number">1</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    arrT.map(<span class="function">(<span class="params">v</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> index = arrS.findIndex(<span class="function"><span class="params">k</span> =&gt;</span> k===v)</span><br><span class="line">        <span class="keyword">if</span>(index !== <span class="number">-1</span>) &#123;</span><br><span class="line">            arrS.splice(index, <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arrS.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸å‡ºæ‰€æ–™çš„è¿˜æ˜¯è¶…æ—¶äº†ï¼Œåˆ°åœ¨é•¿åº¦ä¸º50000çš„å­—ç¬¦ä¸²çš„æµ‹è¯•ç”¨ä¾‹ä¸‹ã€‚</p>
<p>map * findIndex çš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯å¤ªé«˜äº†ã€‚</p>
<p>åæ¥æƒ³åˆ°å­—ç¬¦ä¸²çš„APIä¹Ÿæ”¯æŒå¦‚æ­¤æ“ä½œï¼Œä¼˜åŒ–äº†ä»£ç ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSteps = <span class="function"><span class="keyword">function</span>(<span class="params">s, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = s</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;t.length; i++) &#123;</span><br><span class="line">        res = res.replace(t.charAt(i), <span class="string">""</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯å¾ˆé«˜ï¼Œä½†æ˜¯æäº¤é€šè¿‡äº†ã€‚</p>
<p>ç”¨jså†™äº†ä¸¤é“ç®—æ³•åï¼Œæˆ‘å‘ç°jsä¸é€‚åˆåšç®—æ³•ã€‚å¾ˆå¤šAPIæ— æ³•ç›´æ¥æ„Ÿå—åˆ°å®ƒçš„æ—¶é—´å¤æ‚åº¦ï¼Œéœ€è¦å»æœç´¢æ‰èƒ½å¤§æ¦‚äº†è§£å®ƒçš„å¤æ‚åº¦ã€‚</p>
<p>æœ¬èº«å†™ä»£ç æ—¶å€™éƒ½æ˜¯ç›´æ¥ç”¨APIï¼Œåšé¢˜æ—¶å€™å´ä¸å¤ªèƒ½ç”¨è¿™äº›ï¼Œä¸¤è€…å¾ˆçŸ›ç›¾ã€‚</p>
<p>æ„Ÿè§‰å¦‚æœæƒ³åšæŒåšç®—æ³•ï¼Œè¿˜æ˜¯è¦ç”¨ä¸€é—¨ç¼–è¯‘å‹è¯­è¨€æ¥åšé¢˜ï¼Œè§£é‡Šå‹çš„è¯­è¨€è¿˜æ˜¯æ¯”è¾ƒåƒäºã€‚</p>
<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>æˆ‘ä¸€å¼€å§‹æ²¡æƒ³åˆ°mapï¼Œmapçš„æ€§èƒ½è¿˜æ˜¯å¾ˆé«˜çš„ã€‚</p>
<p>ç”¨å“ˆå¸Œè¡¨ç¤ºsçš„æ‰€æœ‰å­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œéå†tï¼Œè¯¥å­—æ¯åœ¨så‡ºç°ä¸€æ¬¡ï¼Œå“ˆå¸Œè¡¨è¯¥å­—æ¯å‡ä¸€ã€‚å“ˆå¸Œè¡¨æ‰€æœ‰æ­£å€¼æ±‚å’Œï¼Œå³ä¸ºæœ€å°æ­¥éª¤æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSteps = <span class="function"><span class="keyword">function</span>(<span class="params">s, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(), ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = s.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> c = s.charAt(i)</span><br><span class="line">        <span class="keyword">if</span> (!map.has( c )) &#123;</span><br><span class="line">            map.set( c, <span class="number">1</span> )</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map.set( c, map.get( c ) + <span class="number">1</span> )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = t.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> c = t.charAt(i)</span><br><span class="line">        <span class="keyword">if</span> (map.has( c )) &#123;</span><br><span class="line">            map.set( c, map.get( c ) - <span class="number">1</span> )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    map = [...map]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = map.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ans += map[i][<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ³¨æ„æ—¶é—´å¤æ‚åº¦ï¼Œä¸è¦é€’å½’ï¼Œä¸è¦å¾ªç¯å¥—å¾ªç¯ï¼Œè¿™æ ·ä¼šä½¿å¾—O(n)è¶…çº§åŠ å€ã€‚</p>
<p>jsä¸é€‚åˆåšç®—æ³•ï¼Œå®ƒæ‰€æä¾›çš„æ–¹æ³•åŸºæœ¬ä¸èƒ½ç›´è§‚è§‚å¯Ÿå‡ºæ—¶é—´å¤æ‚åº¦ï¼Œæ€§èƒ½è¿˜å·®ï¼Œå°½æ—©å­¦Cã€‚</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/05/29/42-%E6%8E%A5%E9%9B%A8%E6%B0%B4/">42.æ¥é›¨æ°´</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-29</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></span><div class="content"><h3 id="é¢˜å¹²åœ¨æ­¤"><a href="#é¢˜å¹²åœ¨æ­¤" class="headerlink" title="é¢˜å¹²åœ¨æ­¤"></a>é¢˜å¹²åœ¨æ­¤</h3><p><img src="https://i.loli.net/2020/05/30/1EOtY8geS6mInBD.png" alt="42æ¥é›¨æ°´.png"></p>
<h3 id="æˆ‘çš„è§£é¢˜"><a href="#æˆ‘çš„è§£é¢˜" class="headerlink" title="æˆ‘çš„è§£é¢˜"></a>æˆ‘çš„è§£é¢˜</h3><p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€é“ç®—æ³•é¢˜ï¼Œä»è¿™é“é¢˜æˆ‘å‘ç°äº†æˆ‘æ€è€ƒæ—¶çš„â€œäººæœ¬ä½â€æ€è€ƒé€»è¾‘ã€‚</p>
<p>æ²¡åšåˆ°å¾ˆå¥½çš„æŠŠé¢˜å¹²æŠ½è±¡å‡ºæ¥ï¼Œè€Œæ˜¯ç”¨ç”Ÿæ´»é€»è¾‘å»è§£é¢˜ï¼Œæ€è·¯æ¯”è¾ƒç‹­çª„ï¼Œå¾ˆäººç±»åŒ–ã€‚</p>
<p>æˆ‘çš„æ€è·¯æ˜¯å°†æ¯ä¸€ä¸ªæŸ±å­è¿›è¡Œå¾ªç¯ï¼Œå½“å®ƒçš„å³ä¾§æœ‰ä¸ä½äºå®ƒçš„æŸ±å­æ—¶ï¼Œå†åˆ¤æ–­å®ƒç›¸é‚»å³ä¾§çš„æŸ±å­æ˜¯å¦ä½äºå®ƒï¼Œå¦‚æœä½äºå®ƒï¼Œä¾¿æ”¶é›†ä¸¤è€…çš„é«˜åº¦å·®ã€‚</p>
<p>å†å»åˆ¤æ–­å®ƒå³ä¾§ç¬¬äºŒæ ¹æŸ±å­æ˜¯å¦ä½äºå®ƒï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆç»§ç»­æ”¶é›†é«˜åº¦å·®ï¼Œå†å»åˆ¤æ–­ç¬¬ä¸‰æ ¹æŸ±å­â€¦å¦‚æœä¸æ˜¯é‚£ä¹ˆè·³å‡ºå¾ªç¯ï¼Œå¼€å§‹ä»¥ä¸‹ä¸€æ ¹æŸ±å­ä¸ºåŸºå‡†è¿›è¡Œå¦‚ä¸Šå¾ªç¯ã€‚</p>
<p>åŒæ—¶è¿˜è¦è®°å½•å½“å‰æŸ±å­çš„é«˜åº¦ï¼Œå¦‚æœä¸‹æ ¹æŸ±å­æ²¡æœ‰å®ƒé«˜ï¼Œè¯´æ˜å·²ç»å–è¿‡é›¨æ°´äº†ï¼Œä¾¿è·³å‡ºå¾ªç¯ï¼Œä¸é‡å¤æ”¶é›†ã€‚</p>
<p>å½“æ‰€æœ‰æŸ±å­éƒ½å¾ªç¯ä¸€éæ—¶ï¼Œç»“æŸå¾ªç¯ï¼Œè¿”å›æ”¶é›†æ•°ç»„çš„æ€»æ•°ï¼Œå³ä¸ºé›¨æ°´ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> trap = <span class="function"><span class="keyword">function</span>(<span class="params">height</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> arr = []</span><br><span class="line">    <span class="keyword">let</span> m = <span class="number">0</span></span><br><span class="line">    height.forEach(<span class="function">(<span class="params">v,index</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> n = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span>(m &lt;= v) &#123;</span><br><span class="line">            m = <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(v&gt;height[index+n] </span><br><span class="line">        &amp;&amp; height.slice(index+<span class="number">1</span>).findIndex(<span class="function">(<span class="params">k</span>)=&gt;</span>&#123;<span class="keyword">return</span> k&gt;height[index+n]&#125;)!==<span class="number">-1</span> </span><br><span class="line">        &amp;&amp; n+index&lt;height.length </span><br><span class="line">        &amp;&amp; v&gt;=m) &#123;</span><br><span class="line">            <span class="keyword">if</span>(height.slice(index+<span class="number">1</span>).findIndex(<span class="function">(<span class="params">k</span>)=&gt;</span>&#123;<span class="keyword">return</span> k&gt;=v&#125;)!==<span class="number">-1</span>) &#123;</span><br><span class="line">                arr.push(v-height[index+n])</span><br><span class="line">                m = v</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">                max = height.slice(index+<span class="number">1</span>).sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> b-a</span><br><span class="line">                &#125;)[<span class="number">0</span>]</span><br><span class="line">                arr.push(max-height[index+n])</span><br><span class="line">                m = max</span><br><span class="line">            &#125;</span><br><span class="line">            n = n+<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b</span><br><span class="line">    &#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„è§£é¢˜æ€è·¯å®Œå…¨å°±æ˜¯ä¸€ä¸ªäººè‚‰çœ¼è§‚å¯Ÿæ¥å¤šå°‘é›¨æ°´çš„è¿‡ç¨‹ï¼Œå…¶ä¸­æ²¡æœ‰ä»€ä¹ˆç¼–ç¨‹æ€æƒ³ï¼Œåªæ˜¯æˆ‘ç”¨ä»£ç æŠŠæˆ‘æ‰€æƒ³çš„ä¸œè¥¿å†™å‡ºæ¥äº†è€Œå·²ã€‚æˆ‘æŠŠä¸€å †å †çš„é›¨æ°´çœ‹æˆäº†ä¸€ä¸ªæ•´ä½“ï¼Œæ²¡æœ‰æœ‰æ•ˆåœ°æŠŠå®ƒåˆ†å‰²å¼€ã€‚</p>
<p>ä»£ç éªŒè¯æœªé€šè¿‡ï¼Œæœ€åå€’åœ¨äº†ä¸€ä¸ªåºå¤§çš„æ•°ç»„ç”¨ä¾‹ä¸‹ï¼Œæ²¡æœ‰è€ƒè™‘æ—¶é—´å¤æ‚åº¦ï¼Œè¶…æ—¶äº†ã€‚</p>
<p>forEach * while(findIndex) * findIndex * = O(n^5) çœŸçš„è£‚å¼€äº†ã€‚</p>
<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>æŸ±å­å¯ä»¥ä¸€ä¸ªä¸ªåœ°åˆ†å‰²å¼€ï¼Œå…¶å®æŠŠé›¨æ°´ä¹Ÿåˆ†æˆä¸€æ¡æ¡æ¥ç»Ÿè®¡å°±å¥½äº†ã€‚</p>
<p>ç»Ÿè®¡å‡ºä»å·¦åˆ°å³æ’åºæ—¶çš„æœ€é«˜æŸ±å­å’Œä»å³åˆ°å·¦æ’åºæ—¶çš„æœ€é«˜çš„æŸ±å­ã€‚</p>
<p>æ¯ä¸ªæŸ±å­å·¦ä¾§æœ€é«˜ï¼ˆåŒ…æ‹¬æœ¬èº«ï¼‰ä¸å³ä¾§æœ€é«˜ï¼ˆåŒ…æ‹¬æœ¬èº«ï¼‰ä¸­è¾ƒä½çš„å€¼å‡å»æŸ±å­æœ¬èº«çš„é«˜åº¦ï¼Œé‚£å°±æ˜¯è¯¥æŸ±å­å¯ä»¥æ¥ä½çš„é›¨æ°´ã€‚</p>
<p>å¾ªç¯ä¸€æ¬¡å¾—åˆ°æ‰€æœ‰æŸ±å­è¯¥æ¥åˆ°çš„é›¨æ°´é‡ï¼Œæ±‚å’Œå³ä¸ºé›¨æ°´ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> trap = <span class="function"><span class="keyword">function</span>(<span class="params">height</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> volumn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">const</span> leftMax = []</span><br><span class="line">    <span class="keyword">const</span> rightMax = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; height.length; i++) &#123;</span><br><span class="line">        leftMax[i] = max = <span class="built_in">Math</span>.max(height[i], max)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    max = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = height.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        rightMax[i] = max = <span class="built_in">Math</span>.max(height[i], max)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; height.length; i++) &#123;</span><br><span class="line">        volumn = volumn +  <span class="built_in">Math</span>.min(leftMax[i], rightMax[i]) - height[i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> volumn</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ²¡æœ‰æƒ³åˆ°é›¨æ°´æŒ‰ç…§ä¸€æ ¼æ ¼åœ°è¿›è¡Œç»Ÿè®¡ï¼Œæ€»æŠŠä¸€æ»©é›¨æ°´å½“æˆä¸€ä¸ªæ•´ä½“ï¼Œä½¿å¾—æˆ‘çš„è§£é¢˜æ€è·¯å˜å¾—ç‰¹åˆ«ç‹­çª„ã€‚</p>
<p>åšé¢˜æ—¶ä¹Ÿæ²¡æœ‰æ³¨æ„å¤æ‚åº¦ï¼Œæ²¡èƒ½åŠæ—¶å‘ç°æ­¤è·¯ä¸é€šã€‚æ²¡æœ‰ä¸€æŠŠâ€œå°ºå­â€åœ¨è„‘å­é‡Œï¼Œåº”è¯¥ä»å…¶ä»–æ–¹å‘å¿«é€Ÿå»éªŒè¯ç»“æœï¼Œè€Œä¸æ˜¯ä»£ç è·‘èµ·æ¥äº†æ‰å‘ç°é”™è¯¯ã€‚</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/05/29/%E4%B9%85%E8%BF%9D%E4%BA%86%EF%BC%8C%E4%B8%8A%E8%BF%9B%E5%BF%83/">ä¹…è¿äº†ï¼Œä¸Šè¿›å¿ƒ</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-05-29</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/mess/">mess</a></span><div class="content"><h3 id="ä¹‹å‰çš„åšå®¢éšç€æ—§ç”µè„‘çš„æ¶ˆå¤±æ¶ˆå¤±äº†ã€‚"><a href="#ä¹‹å‰çš„åšå®¢éšç€æ—§ç”µè„‘çš„æ¶ˆå¤±æ¶ˆå¤±äº†ã€‚" class="headerlink" title="ä¹‹å‰çš„åšå®¢éšç€æ—§ç”µè„‘çš„æ¶ˆå¤±æ¶ˆå¤±äº†ã€‚"></a>ä¹‹å‰çš„åšå®¢éšç€æ—§ç”µè„‘çš„æ¶ˆå¤±æ¶ˆå¤±äº†ã€‚</h3><h3 id="å¿˜äº†å¼€åˆ†æ”¯å¤‡ä»½ï¼Œè¿™æ³¢çœŸçš„è¡€äºï¼Œå¥½æ°”ã€‚"><a href="#å¿˜äº†å¼€åˆ†æ”¯å¤‡ä»½ï¼Œè¿™æ³¢çœŸçš„è¡€äºï¼Œå¥½æ°”ã€‚" class="headerlink" title="å¿˜äº†å¼€åˆ†æ”¯å¤‡ä»½ï¼Œè¿™æ³¢çœŸçš„è¡€äºï¼Œå¥½æ°”ã€‚"></a>å¿˜äº†å¼€åˆ†æ”¯å¤‡ä»½ï¼Œè¿™æ³¢çœŸçš„è¡€äºï¼Œå¥½æ°”ã€‚</h3><h3 id="äº‹å·²è‡³æ­¤ï¼Œå…ˆåƒé¥­å§ã€‚"><a href="#äº‹å·²è‡³æ­¤ï¼Œå…ˆåƒé¥­å§ã€‚" class="headerlink" title="äº‹å·²è‡³æ­¤ï¼Œå…ˆåƒé¥­å§ã€‚"></a>äº‹å·²è‡³æ­¤ï¼Œå…ˆåƒé¥­å§ã€‚</h3></div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Kari WanG</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>